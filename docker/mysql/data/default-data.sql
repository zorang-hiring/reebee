-- CREATE TABLE IF NOT EXISTS `sample_table` (
--     `id` int unsigned NOT NULL AUTO_INCREMENT,
--     `name` varchar(50) DEFAULT NULL,
--     PRIMARY KEY (`id`)
-- ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
--
-- INSERT INTO `sample_table` (`name`) VALUES ('world');

-- todo generate fresh SQL
CREATE TABLE flyers (flyerID INT AUTO_INCREMENT NOT NULL, name VARCHAR(255) NOT NULL, storeName VARCHAR(255) NOT NULL, dateValid DATE NOT NULL, dateExpired DATE NOT NULL, pageCount INT NOT NULL, UNIQUE INDEX UNIQ_BF830A875E237E06 (name), UNIQUE INDEX UNIQ_BF830A87B2AE120B (storeName), UNIQUE INDEX UNIQ_BF830A87303DE314 (dateValid), UNIQUE INDEX UNIQ_BF830A87CB750CB7 (dateExpired), UNIQUE INDEX UNIQ_BF830A879EF907A7 (pageCount), PRIMARY KEY(flyerID)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB;
CREATE TABLE users (id INT AUTO_INCREMENT NOT NULL, username VARCHAR(255) NOT NULL, password VARCHAR(255) NOT NULL, UNIQUE INDEX UNIQ_1483A5E9F85E0677 (username), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB;

DROP INDEX UNIQ_BF830A87303DE314 ON flyers;
DROP INDEX UNIQ_BF830A875E237E06 ON flyers;
DROP INDEX UNIQ_BF830A879EF907A7 ON flyers;
DROP INDEX UNIQ_BF830A87B2AE120B ON flyers;
DROP INDEX UNIQ_BF830A87CB750CB7 ON flyers;

CREATE TABLE pages (pageID INT AUTO_INCREMENT NOT NULL, dateValid DATE NOT NULL, dateExpired DATE NOT NULL, pageNumber INT NOT NULL, flyerID INT DEFAULT NULL, INDEX IDX_2074E575F57921F4 (flyerID), PRIMARY KEY(pageID)) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB;
ALTER TABLE pages ADD CONSTRAINT FK_2074E575F57921F4 FOREIGN KEY (flyerID) REFERENCES flyers (flyerID);